$(function(){"use strict";module("scrollspy plugin"),test("should be defined on jquery object",function(){ok($(document.body).scrollspy,"scrollspy method is defined")}),module("scrollspy",{setup:function(){$.fn.bootstrapScrollspy=$.fn.scrollspy.noConflict()},teardown:function(){$.fn.scrollspy=$.fn.bootstrapScrollspy,delete $.fn.bootstrapScrollspy}}),test("should provide no conflict",function(){ok(!$.fn.scrollspy,"scrollspy was set back to undefined (org value)")}),test("should return element",function(){ok($(document.body).bootstrapScrollspy()[0]==document.body,"document.body returned")}),test("should switch active class on scroll",function(){var t='<div id="masthead"></div>';$(t).append("#qunit-fixture");var e='<div class="topbar"><div class="topbar-inner"><div class="container"><h3><a href="#">Bootstrap</a></h3><li><a href="#masthead">Overview</a></li></ul></div></div></div>',i=$(e).bootstrapScrollspy();$(t).append("#qunit-fixture"),ok(i.find(".active",!0))}),asyncTest("should only switch active class on current target",function(){expect(1);var t='<div id="root" class="active"><div class="topbar"><div class="topbar-inner"><div class="container" id="ss-target"><ul class="nav"><li><a href="#masthead">Overview</a></li><li><a href="#detail">Detail</a></li></ul></div></div></div><div id="scrollspy-example" style="height: 100px; overflow: auto;"><div style="height: 200px;"><h4 id="masthead">Overview</h4><p style="height: 200px">Ad leggings keytar, brunch id art party dolor labore.</p></div><div style="height: 200px;"><h4 id="detail">Detail</h4><p style="height: 200px">Veniam marfa mustache skateboard, adipisicing fugiat velit pitchfork beard.</p></div></div></div>',e=$(t).appendTo("#qunit-fixture"),i=e.show().find("#scrollspy-example").bootstrapScrollspy({target:"#ss-target"});i.on("scroll.bs.scrollspy",function(){ok(e.hasClass("active"),"Active class still on root node"),start()}),i.scrollTop(350)}),asyncTest("middle navigation option correctly selected when large offset is used",function(){expect(3);var t='<div id="header" style="height: 500px;"></div><nav id="navigation" class="navbar"><ul class="nav navbar-nav"><li class="active"><a id="one-link" href="#one">One</a></li><li><a id="two-link" href="#two">Two</a></li><li><a id="three-link" href="#three">Three</a></li></ul></nav><div id="content" style="height: 200px; overflow-y: auto;"><div id="one" style="height: 500px;"></div><div id="two" style="height: 300px;"></div><div id="three" style="height: 10px;"></div></div>',e=$(t).appendTo("#qunit-fixture"),i=e.show().filter("#content");i.bootstrapScrollspy({target:"#navigation",offset:i.position().top}),i.on("scroll.bs.scrollspy",function(){ok(!e.find("#one-link").parent().hasClass("active"),"Active class removed from first section"),ok(e.find("#two-link").parent().hasClass("active"),"Active class on middle section"),ok(!e.find("#three-link").parent().hasClass("active"),"Active class not on last section"),start()}),i.scrollTop(550)})});